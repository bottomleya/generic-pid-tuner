<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/Chart.min.css">
        

        <script src="js/jquery-3.4.1.min.js"></script>
        <script src="js/math.js"></script>
        <script src="js/Chart.min.js"></script>

        <title>Generic PID Controller Tuner | Tune Your PID Controller</title>
        
    </head>
    <body>
    <div class="heading">
        <b>Click</b> and <b>Hold</b> to Generate Points!
        </br>
        <button id="btnResetCanvas" type="button" href='javascript:void();' onclick="resetCanvas(event)">Click to Reset Canvas</button>
    </div>
    
    <canvas id="chart_canvas"></canvas>
        
        <script>
            
            var canvas = document.getElementById('chart_canvas');
            var ctx = canvas.getContext('2d');

            // Generate random data to plot
            var data = {
                labels: [""],
                datasets: [
                    {
                        label: "System Dynamics",
                        fill: false,
                        lineTension: 0.8,
                        backgroundColor: "rgba(75,192,192,0.4)",
                        borderColor: "rgba(75,192,192,1)",
                        borderCapStyle: 'butt',
                        borderDash: [],
                        borderDashOffset: 0.0,
                        pointBorderColor: "rgba(75,192,192,1)",
                        pointBorderWidth: 0.1,
                        pointHoverRadius: 2,
                        pointHoverBackgroundColor: "rgba(75,192,192,1)",
                        pointHoverBorderColor: "rgba(220,220,220,1)",
                        pointHoverBorderWidth: 0.5,
                        pointRadius: 2,
                        pointHitRadius: 10,
                        data: [0],
                    }
                ]
            };
            function addDataPoint() {
                data.datasets[0].data.push(Math.random()*10);
                data.labels.push("");
                lineChart.data = data;
                lineChart.update();
            }
            var lineChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: { 
                    animation: false,
                    showLines: true
                }
            });

            window.setInterval(function(){
                console.log(data.datasets[0].data);
                addDataPoint();
            }, 1000);

         
        </script>
    </body>
</html>
